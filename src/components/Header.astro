---
import Button from "./Button/Button.astro";
import Dropdown from "./Nav/Dropdown.astro";
import Logo from "./Logo/Logo.astro";

import legendes from "@assets/logo.jpg";
import europeCentrale from "@assets/logo.jpg";
import ressources from "@assets/logo.jpg";

const inspirationItems = [
  {
    subtitle: "Au coeur des légendes",
    href: "/legendes",
    image: legendes,
    description:
      "Découvrez des récits oubliés et des mythes fascinants de l'Europe.",
  },
];

const ressourcesItems = [
  {
    subtitle: "Guide de survie",
    href: "/ressources/guide-survie",
    image: ressources,
    description: "Lexiques linguistiques essentiels pour voyager en Europe de l'Est.",
  },
  {
    subtitle: "Checklist du voyageur",
    href: "/ressources/checklist-depart",
    image: ressources,
    description: "Préparez votre départ avec notre liste complète.",
  },
  {
    subtitle: "Contacts d'urgence",
    href: "/ressources/contacts-urgence",
    image: ressources,
    description: "Numéros utiles et ambassades dans chaque pays.",
  },
];

const carnetItems = [
  {
    subtitle: "Europe centrale",
    href: "/europe-centrale",
    image: europeCentrale,
    description: "Récits de voyage et guides pratiques pour l'Europe centrale.",
  },
];
---

<header class="sticky-header" id="main-header">
  <nav class="navbar">
    <a href="/"><Logo /></a>
    <div class="internal-links">
      <Dropdown title="Inspirations" items={inspirationItems} />
      <Dropdown title="Carnet" items={carnetItems} />
      <Dropdown title="Ressources" items={ressourcesItems} />
      <Button />
    </div>
  </nav>
</header>

<style>
  .sticky-header {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 10;
  }

  .navbar {
    background: transparent;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }

  .navbar.scrolled {
    background-color: #1b263b;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  .internal-links {
    display: flex;
    align-items: center;
    gap: 50px;
    margin-inline-end: 100px;
  }
</style>

<script>
  // Script pour détecter le scroll et changer le style du header
  const header = document.getElementById('main-header');
  const navbar = header?.querySelector('.navbar');

  if (navbar) {
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });
  }
</script>
