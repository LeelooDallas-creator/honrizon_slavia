// =============================================
// TYPOGRAPHY - HORIZON SLAVIA
// Typography styles and text elements
// =============================================

// Load variables and mixins
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// =============================================
// HEADINGS
// =============================================

/// Base heading styles (Uncial Antiqua font)
h1, h2, h3, h4, h5, h6 {
  @include heading-style;
  margin-bottom: $spacing-4;
  
  // Slightly tighter tracking for large headings
  letter-spacing: -0.02em;
}

/// H1 - Page titles, hero sections
h1 {
  @include responsive-typography($font-size-4xl, $font-size-6xl);
  margin-bottom: $spacing-6;
  
  // Optional: Add text shadow for hero sections
  &.hero-title {
    text-shadow: 0 0.125rem 0.25rem rgba($color-black, 0.1);
  }
}

/// H2 - Section titles
h2 {
  @include responsive-typography($font-size-3xl, $font-size-5xl);
  margin-top: $spacing-12;
  margin-bottom: $spacing-6;
}

/// H3 - Subsection titles
h3 {
  @include responsive-typography($font-size-2xl, $font-size-4xl);
  margin-top: $spacing-8;
  margin-bottom: $spacing-4;
}

/// H4 - Minor section titles
h4 {
  @include responsive-typography($font-size-xl, $font-size-3xl);
  margin-top: $spacing-6;
  margin-bottom: $spacing-3;
}

/// H5 - Card titles, sidebar headings
h5 {
  @include responsive-typography($font-size-lg, $font-size-2xl);
  margin-top: $spacing-4;
  margin-bottom: $spacing-2;
}

/// H6 - Small headings
h6 {
  @include responsive-typography($font-size-base, $font-size-xl);
  margin-top: $spacing-3;
  margin-bottom: $spacing-2;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

// =============================================
// PARAGRAPHS & BODY TEXT
// =============================================

/// Paragraphs - Body text with Merriweather
p {
  @include body-text;
  margin-bottom: $spacing-4;
  
  // First paragraph after heading (no top margin)
  h1 + &,
  h2 + &,
  h3 + &,
  h4 + &,
  h5 + &,
  h6 + & {
    margin-top: 0;
  }
  
  // Last paragraph (no bottom margin)
  &:last-child {
    margin-bottom: 0;
  }
}

/// Lead paragraph (introductory text)
.lead {
  @include responsive-typography($font-size-lg, $font-size-xl);
  color: $color-gray-700;
  margin-bottom: $spacing-6;
  max-width: 55ch;
}

// =============================================
// INLINE TEXT ELEMENTS
// =============================================

/// Links - Styled with accent color
a {
  color: $color-accent;
  text-decoration: underline;
  text-decoration-thickness: 0.0625rem;
  text-underline-offset: 0.125rem;
  @include transition(color);
  
  &:hover {
    color: $color-accent-dark;
  }
  
  &:focus-visible {
    @include focus-visible;
  }
  
  // Links in navigation (different style)
  nav & {
    text-decoration: none;
    
    &:hover {
      text-decoration: underline;
    }
  }
}

/// Strong and bold text
strong,
b {
  font-weight: $font-weight-bold;
  color: $color-primary-dark;
}

/// Emphasis and italic
em,
i {
  font-style: italic;
}

/// Small text
small {
  font-size: $font-size-sm;
  color: $color-gray-600;
}

/// Mark (highlighted text)
mark {
  background: rgba($color-accent, 0.15);
  color: $color-accent-dark;
  padding: 0.125rem 0.25rem;
  border-radius: $radius-sm;
}

/// Abbreviations
abbr[title] {
  text-decoration: underline dotted;
  cursor: help;
  border-bottom: none;
}

/// Subscript and superscript
sub,
sup {
  font-size: 0.75em;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

// =============================================
// BLOCKQUOTES
// =============================================

/// Blockquote - Styled quotes
blockquote {
  position: relative;
  margin: $spacing-8 0;
  padding: $spacing-6 $spacing-8;
  border-left: 0.25rem solid $color-accent;
  background: rgba($color-gray-100, 0.5);
  border-radius: $radius-base;
  font-style: italic;
  color: $color-gray-700;
  
  // Opening quote mark
  &::before {
    content: '"';
    position: absolute;
    top: 0;
    left: $spacing-4;
    font-family: $font-heading;
    font-size: $font-size-6xl;
    line-height: 1;
    color: $color-accent;
    opacity: 0.3;
  }
  
  p {
    margin-bottom: $spacing-2;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  // Citation
  cite {
    display: block;
    margin-top: $spacing-4;
    font-size: $font-size-sm;
    font-style: normal;
    color: $color-gray-600;
    
    &::before {
      content: '— ';
    }
  }
}

// =============================================
// CODE
// =============================================

/// Inline code
code {
  font-family: $font-mono;
  font-size: 0.875em;
  background: rgba($color-gray-200, 0.5);
  color: $color-primary-dark;
  padding: 0.125rem 0.375rem;
  border-radius: $radius-sm;
  font-weight: $font-weight-medium;
}

/// Code blocks
pre {
  font-family: $font-mono;
  font-size: $font-size-sm;
  background: $color-gray-900;
  color: $color-gray-100;
  padding: $spacing-6;
  border-radius: $radius-lg;
  overflow-x: auto;
  margin: $spacing-6 0;
  
  // Inline code inside pre (remove double styling)
  code {
    background: none;
    color: inherit;
    padding: 0;
    border-radius: 0;
    font-size: inherit;
  }
}

// =============================================
// LISTS
// =============================================

/// Unordered lists with custom bullets
ul.styled-list {
  list-style: none;
  margin-bottom: $spacing-4;
  
  li {
    position: relative;
    padding-left: $spacing-6;
    margin-bottom: $spacing-2;
    
    // Custom bullet (accent color)
    &::before {
      content: '•';
      position: absolute;
      left: $spacing-2;
      color: $color-accent;
      font-weight: $font-weight-bold;
    }
  }
}

/// Ordered lists with custom numbering
ol.styled-list {
  list-style: none;
  counter-reset: styled-counter;
  margin-bottom: $spacing-4;
  
  li {
    position: relative;
    padding-left: $spacing-8;
    margin-bottom: $spacing-2;
    counter-increment: styled-counter;
    
    // Custom number (accent color, circled)
    &::before {
      content: counter(styled-counter);
      position: absolute;
      left: 0;
      width: $spacing-6;
      height: $spacing-6;
      display: flex;
      align-items: center;
      justify-content: center;
      background: $color-accent;
      color: $color-white;
      border-radius: $radius-full;
      font-weight: $font-weight-bold;
      font-size: $font-size-sm;
    }
  }
}

/// Definition lists
dl {
  margin-bottom: $spacing-6;
  
  dt {
    font-weight: $font-weight-bold;
    color: $color-primary;
    margin-top: $spacing-4;
    margin-bottom: $spacing-1;
  }
  
  dd {
    margin-left: $spacing-6;
    margin-bottom: $spacing-3;
    color: $color-gray-700;
  }
}

// =============================================
// HORIZONTAL RULE
// =============================================

/// Horizontal rule separator
hr {
  border: none;
  height: 0.0625rem;
  background: linear-gradient(
    to right,
    transparent,
    $color-neutral,
    transparent
  );
  margin: $spacing-12 0;
}

// =============================================
// TEXT UTILITIES
// =============================================

/// Text alignment classes
.text-left {
  text-align: left;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

.text-justify {
  text-align: justify;
}

/// Text transform classes
.text-uppercase {
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.text-lowercase {
  text-transform: lowercase;
}

.text-capitalize {
  text-transform: capitalize;
}

/// Font weight utilities
.font-light {
  font-weight: $font-weight-light;
}

.font-normal {
  font-weight: $font-weight-normal;
}

.font-medium {
  font-weight: $font-weight-medium;
}

.font-semibold {
  font-weight: $font-weight-semibold;
}

.font-bold {
  font-weight: $font-weight-bold;
}

/// Text color utilities
.text-primary {
  color: $color-primary;
}

.text-secondary {
  color: $color-secondary;
}

.text-accent {
  color: $color-accent;
}

.text-muted {
  color: $color-gray-600;
}

.text-white {
  color: $color-white;
}

/// Font size utilities
.text-xs {
  font-size: $font-size-xs;
}

.text-sm {
  font-size: $font-size-sm;
}

.text-base {
  font-size: $font-size-base;
}

.text-lg {
  font-size: $font-size-lg;
}

.text-xl {
  font-size: $font-size-xl;
}

.text-2xl {
  font-size: $font-size-2xl;
}

/// Truncate text utilities
.truncate {
  @include truncate;
}

.line-clamp-2 {
  @include line-clamp(2);
}

.line-clamp-3 {
  @include line-clamp(3);
}

.line-clamp-4 {
  @include line-clamp(4);
}

// =============================================
// PROSE (Content-rich text blocks)
// =============================================

/// Prose class for long-form content (blog posts, articles)
/// Automatically styles all children elements
.prose {
  max-width: 65ch;
  color: $color-gray-800;
  
  // Headings spacing
  h1, h2, h3, h4, h5, h6 {
    margin-top: $spacing-10;
    margin-bottom: $spacing-4;
    
    &:first-child {
      margin-top: 0;
    }
  }
  
  // Paragraphs spacing
  p {
    margin-bottom: $spacing-4;
  }
  
  // Links in prose
  a {
    color: $color-accent;
    text-decoration: underline;
    
    &:hover {
      color: $color-accent-dark;
    }
  }
  
  // Images in prose
  img {
    margin: $spacing-8 0;
    border-radius: $radius-lg;
  }
  
  // Lists in prose
  ul, ol {
    margin-bottom: $spacing-6;
    padding-left: $spacing-6;
  }
  
  ul {
    list-style-type: disc;
  }
  
  ol {
    list-style-type: decimal;
  }
  
  li {
    margin-bottom: $spacing-2;
  }
}